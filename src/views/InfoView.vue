<script setup lang="ts">
import SpeedChart from "../components/SpeedChart.vue";
import { useLocalStore } from "@/stores/local";
import { onMounted, computed } from "vue";

const store = useLocalStore();
const getIP = computed(() => {
  if (localStorage.getItem("realIndicator")) {
    return store.getIP;
  }
});
const getMac = computed(() => {
  if (localStorage.getItem("realIndicator")) {
    return store.getMac;
  }
});
const getNetMask = computed(() => {
  if (localStorage.getItem("realIndicator")) {
    return store.getNetMask;
  }
});
onMounted(() => {
  store.fetchIP();
  store.fetchMac();
  store.fetchNetMask();
});
</script>

<template>
  <section class="info">
    <div class="info__container">
      <div class="info__left-side">
        <div class="info__title">ИНФОРМАЦИЯ О СЕТИ</div>
        <div class="info__tables">
          <div class="info__table">
            <div class="info__subtitle">LAN</div>
            <ul class="info__list" v-if="getIP">
              <li>IP-адрес: {{ getIP }}</li>
              <li>MAC-адрес: {{ getMac }}</li>
              <li>Маска подсети: {{ getNetMask }}</li>
            </ul>
            <ul class="info__list" v-if="!getIP">
              <li>IP-адрес: {{ ip }}</li>
              <li>MAC-адрес: 8A:81:0F:90:1E:21</li>
              <li>Маска подсети: 255.255.255.192</li>
            </ul>
          </div>
          <div class="info__table">
            <div class="info__subtitle">Беспроводной режим</div>
            <ul class="info__list">
              <li>Рабочий режим: Роутер</li>
              <li>Беспроводное вещание: Включено</li>
              <li>Имя беспроводной сети (SSID): School-Network</li>
            </ul>
          </div>
          <div class="info__table status">
            <div class="info__subtitle">СТАТУС</div>
            <ul class="info__list">
              <li>
                <span>
                  <svg
                    viewBox="0 0 44 44"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g filter="url(#filter0_d_7_213)">
                      <path
                        d="M19.6832 32.55C19.6332 32.55 19.5832 32.55 19.5332 32.53C15.7032 31.75 12.5932 28.93 11.4332 25.19C11.3132 24.79 11.5332 24.37 11.9232 24.25C12.3232 24.13 12.7432 24.35 12.8632 24.74C13.8632 27.96 16.5332 30.38 19.8332 31.05C20.2432 31.13 20.5032 31.53 20.4132 31.94C20.3432 32.3 20.0232 32.55 19.6832 32.55Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M31.6436 21.73C31.2636 21.73 30.9336 21.44 30.8936 21.06C30.4136 16.32 26.4536 12.75 21.6936 12.75C16.9236 12.75 12.9736 16.32 12.4936 21.05C12.4536 21.46 12.0936 21.77 11.6736 21.72C11.2636 21.68 10.9636 21.31 11.0036 20.9C11.5636 15.4 16.1636 11.25 21.6936 11.25C27.2336 11.25 31.8336 15.4 32.3836 20.9C32.4236 21.31 32.1236 21.68 31.7136 21.72C31.6936 21.73 31.6636 21.73 31.6436 21.73Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M23.7034 32.55C23.3534 32.55 23.0434 32.31 22.9734 31.95C22.8934 31.54 23.1534 31.15 23.5534 31.07C26.8334 30.4 29.5034 28 30.5134 24.8C30.6334 24.4 31.0634 24.18 31.4534 24.31C31.8534 24.43 32.0634 24.86 31.9434 25.25C30.7634 28.97 27.6634 31.76 23.8534 32.54C23.8034 32.54 23.7534 32.55 23.7034 32.55Z"
                        fill="#C94C48"
                      />
                    </g>
                    <defs>
                      <filter
                        id="filter0_d_7_213"
                        x="0"
                        y="0.25"
                        filterUnits="userSpaceOnUse"
                        color-interpolation-filters="sRGB"
                      >
                        <feFlood
                          flood-opacity="0"
                          result="BackgroundImageFix"
                        />
                        <feColorMatrix
                          in="SourceAlpha"
                          type="matrix"
                          values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                          result="hardAlpha"
                        />
                        <feOffset />
                        <feGaussianBlur stdDeviation="5.5" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix
                          type="matrix"
                          values="0 0 0 0 0.788235 0 0 0 0 0.298039 0 0 0 0 0.282353 0 0 0 0.4 0"
                        />
                        <feBlend
                          mode="normal"
                          in2="BackgroundImageFix"
                          result="effect1_dropShadow_7_213"
                        />
                        <feBlend
                          mode="normal"
                          in="SourceGraphic"
                          in2="effect1_dropShadow_7_213"
                          result="shape"
                        />
                      </filter>
                    </defs>
                  </svg>
                  СОСТОЯНИЕ</span
                ><span class="blue">ВКЛ</span>
              </li>
              <li>
                <span>
                  <svg
                    viewBox="0 0 41 40"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g filter="url(#filter0_d_7_176)">
                      <path
                        d="M28.8127 20.441H27.0918C27.2117 20.3302 27.2867 20.1738 27.2867 20.0001V19.9696C27.2867 19.6339 27.0078 19.3617 26.6639 19.3617C26.32 19.3617 26.0411 19.6339 26.0411 19.9696V20.0001C26.0411 20.1738 26.1161 20.3302 26.2359 20.441H20.2178C19.8738 20.441 19.595 20.7132 19.595 21.049V24.8271C19.4815 24.7102 19.3214 24.6369 19.1434 24.6369H19.1123C18.7684 24.6369 18.4895 24.9092 18.4895 25.2449C18.4895 25.5807 18.7684 25.853 19.1123 25.853H19.1434C19.3214 25.853 19.4815 25.7797 19.595 25.6629V28.392C19.595 28.7278 19.8738 29 20.2178 29H28.8127C29.1566 29 29.4355 28.7278 29.4355 28.392V21.0489C29.4355 20.7133 29.1566 20.441 28.8127 20.441ZM28.1898 21.657V25.6862H20.8406V21.657H28.1898V21.657ZM20.8406 27.7841V26.9022H28.1898V27.7841H20.8406Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M23.0516 15.3628H23.1134C23.4572 15.3628 23.736 15.0906 23.736 14.7549C23.736 14.4193 23.4572 14.1471 23.1134 14.1471H23.0516C22.7078 14.1471 22.4291 14.4193 22.4291 14.7549C22.4291 15.0906 22.7078 15.3628 23.0516 15.3628Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M24.8422 15.3628H24.9039C25.2477 15.3628 25.5265 15.0906 25.5265 14.7549C25.5265 14.4193 25.2477 14.1471 24.9039 14.1471H24.8422C24.4983 14.1471 24.2195 14.4193 24.2195 14.7549C24.2195 15.0906 24.4983 15.3628 24.8422 15.3628Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M26.6637 15.3931C27.0075 15.3931 27.2863 15.121 27.2863 14.7853V14.7549C27.2863 14.4193 27.0075 14.1471 26.6637 14.1471H26.6325C26.2887 14.1471 26.0099 14.4193 26.0099 14.7549C26.0099 14.9305 26.0862 15.0887 26.2081 15.1997C26.3218 15.3187 26.4838 15.3931 26.6637 15.3931Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M27.2863 16.4732C27.2863 16.1375 27.0075 15.8654 26.6636 15.8654C26.3198 15.8654 26.041 16.1375 26.041 16.4732V16.5335C26.041 16.8691 26.3198 17.1413 26.6636 17.1413C27.0075 17.1413 27.2863 16.8691 27.2863 16.5335V16.4732Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M26.6636 17.6135C26.3198 17.6135 26.041 17.8857 26.041 18.2213V18.2815C26.041 18.6172 26.3198 18.8893 26.6636 18.8893C27.0075 18.8893 27.2863 18.6172 27.2863 18.2815V18.2213C27.2863 17.8857 27.0075 17.6135 26.6636 17.6135Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M17.3835 24.637H17.3217C16.9779 24.637 16.6992 24.9092 16.6992 25.2448C16.6992 25.5805 16.9779 25.8526 17.3217 25.8526H17.3835C17.7273 25.8526 18.0061 25.5805 18.0061 25.2448C18.0061 24.9092 17.7273 24.637 17.3835 24.637Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M15.593 24.637H15.5313C15.1875 24.637 14.9087 24.9092 14.9087 25.2448C14.9087 25.5805 15.1875 25.8526 15.5313 25.8526H15.593C15.9368 25.8526 16.2156 25.5805 16.2156 25.2448C16.2156 24.9092 15.9368 24.637 15.593 24.637Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M13.7715 24.6066C13.4277 24.6066 13.1489 24.8787 13.1489 25.2144V25.2448C13.1489 25.5805 13.4277 25.8526 13.7715 25.8526H13.8027C14.1465 25.8526 14.4253 25.5805 14.4253 25.2448C14.4253 25.0693 14.3491 24.911 14.2271 24.8001C14.1135 24.681 13.9514 24.6066 13.7715 24.6066Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M14.3942 21.7182C14.3942 21.3825 14.1154 21.1104 13.7715 21.1104C13.4277 21.1104 13.1489 21.3825 13.1489 21.7182V21.7784C13.1489 22.1141 13.4277 22.3862 13.7715 22.3862C14.1154 22.3862 14.3942 22.1141 14.3942 21.7784V21.7182Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M13.7715 22.8584C13.4277 22.8584 13.1489 23.1306 13.1489 23.4662V23.5265C13.1489 23.8622 13.4277 24.1343 13.7715 24.1343C14.1154 24.1343 14.3942 23.8622 14.3942 23.5265V23.4662C14.3942 23.1306 14.1154 22.8584 13.7715 22.8584Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M13.1489 20.0001V20.0305C13.1489 20.3662 13.4278 20.6384 13.7718 20.6384C14.1157 20.6384 14.3946 20.3662 14.3946 20.0305V20.0001C14.3946 19.8263 14.3195 19.6699 14.1998 19.5591H20.2178C20.5617 19.5591 20.8406 19.2869 20.8406 18.9511V15.173C20.9541 15.2898 21.1142 15.3631 21.2921 15.3631H21.3232C21.6672 15.3631 21.946 15.0909 21.946 14.7551C21.946 14.4194 21.6672 14.1471 21.3232 14.1471H21.2921C21.1142 14.1471 20.9541 14.2204 20.8406 14.3372V11.6081C20.8406 11.2722 20.5617 11 20.2178 11H11.6229C11.2789 11 11 11.2722 11 11.608V18.9511C11 19.2868 11.2789 19.5591 11.6228 19.5591H13.3438C13.224 19.6699 13.1489 19.8263 13.1489 20.0001ZM19.595 12.2161V16.2451H12.2457V12.2161H19.595ZM12.2457 17.4611H19.595V18.3431H12.2457V17.4611Z"
                        fill="#C94C48"
                      />
                    </g>
                    <defs>
                      <filter
                        id="filter0_d_7_176"
                        x="0"
                        y="0"
                        filterUnits="userSpaceOnUse"
                        color-interpolation-filters="sRGB"
                      >
                        <feFlood
                          flood-opacity="0"
                          result="BackgroundImageFix"
                        />
                        <feColorMatrix
                          in="SourceAlpha"
                          type="matrix"
                          values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                          result="hardAlpha"
                        />
                        <feOffset />
                        <feGaussianBlur stdDeviation="5.5" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix
                          type="matrix"
                          values="0 0 0 0 0.788235 0 0 0 0 0.298039 0 0 0 0 0.282353 0 0 0 0.4 0"
                        />
                        <feBlend
                          mode="normal"
                          in2="BackgroundImageFix"
                          result="effect1_dropShadow_7_176"
                        />
                        <feBlend
                          mode="normal"
                          in="SourceGraphic"
                          in2="effect1_dropShadow_7_176"
                          result="shape"
                        />
                      </filter>
                    </defs>
                  </svg>
                  УСТРОЙСТВА</span
                ><span class="blue">6</span>
              </li>
              <li>
                <span>
                  <svg
                    viewBox="0 0 40 40"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g filter="url(#filter0_d_7_243)">
                      <path
                        d="M25.4 21.8C23.4149 21.8 21.8 23.4149 21.8 25.4C21.8 27.3851 23.4149 29 25.4 29C27.3851 29 29 27.3851 29 25.4C29 23.4149 27.3851 21.8 25.4 21.8ZM25.4 28.4C23.7458 28.4 22.4 27.0542 22.4 25.4C22.4 23.7458 23.7458 22.4 25.4 22.4C27.0542 22.4 28.4 23.7458 28.4 25.4C28.4 27.0542 27.0542 28.4 25.4 28.4Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M27.2 25.1H25.7V23.6C25.7 23.4341 25.5659 23.3 25.4 23.3C25.2341 23.3 25.1 23.4341 25.1 23.6V25.4C25.1 25.5659 25.2341 25.7 25.4 25.7H27.2C27.3659 25.7 27.5 25.5659 27.5 25.4C27.5 25.2341 27.3659 25.1 27.2 25.1Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M11.2505 17.3C11.0942 17.522 11 17.7905 11 18.0824V21.6173C11 21.9095 11.0942 22.178 11.2505 22.4H22.0553C22.8797 21.4817 24.0716 20.9 25.4 20.9C26.7284 20.9 27.9203 21.4817 28.7447 22.4H28.7495C28.9058 22.178 29 21.9095 29 21.6176V18.0824C29 17.7902 28.9058 17.522 28.7495 17.3H11.2505ZM14.15 21.2C13.4057 21.2 12.8 20.5943 12.8 19.85C12.8 19.1057 13.4057 18.5 14.15 18.5C14.8943 18.5 15.5 19.1057 15.5 19.85C15.5 20.5943 14.8943 21.2 14.15 21.2ZM21.2 19.7C21.0344 19.7 20.9 19.5656 20.9 19.4C20.9 19.2344 21.0344 19.1 21.2 19.1C21.3656 19.1 21.5 19.2344 21.5 19.4C21.5 19.5656 21.3656 19.7 21.2 19.7ZM22.4 19.7C22.2344 19.7 22.1 19.5656 22.1 19.4C22.1 19.2344 22.2344 19.1 22.4 19.1C22.5656 19.1 22.7 19.2344 22.7 19.4C22.7 19.5656 22.5656 19.7 22.4 19.7ZM23.6 19.7C23.4344 19.7 23.3 19.5656 23.3 19.4C23.3 19.2344 23.4344 19.1 23.6 19.1C23.7656 19.1 23.9 19.2344 23.9 19.4C23.9 19.5656 23.7656 19.7 23.6 19.7ZM24.8 19.7C24.6344 19.7 24.5 19.5656 24.5 19.4C24.5 19.2344 24.6344 19.1 24.8 19.1C24.9656 19.1 25.1 19.2344 25.1 19.4C25.1 19.5656 24.9656 19.7 24.8 19.7ZM26 19.7C25.8344 19.7 25.7 19.5656 25.7 19.4C25.7 19.2344 25.8344 19.1 26 19.1C26.1656 19.1 26.3 19.2344 26.3 19.4C26.3 19.5656 26.1656 19.7 26 19.7Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M27.6176 11H12.3824C11.6201 11 11 11.6201 11 12.3824V15.9173C11 16.2095 11.0942 16.478 11.2505 16.7H28.7492C28.9058 16.478 29 16.2095 29 15.9176V12.3824C29 11.6201 28.3799 11 27.6176 11ZM14.15 15.5C13.4057 15.5 12.8 14.8943 12.8 14.15C12.8 13.4057 13.4057 12.8 14.15 12.8C14.8943 12.8 15.5 13.4057 15.5 14.15C15.5 14.8943 14.8943 15.5 14.15 15.5ZM21.2 14C21.0344 14 20.9 13.8656 20.9 13.7C20.9 13.5344 21.0344 13.4 21.2 13.4C21.3656 13.4 21.5 13.5344 21.5 13.7C21.5 13.8656 21.3656 14 21.2 14ZM21.8 14.9C21.6344 14.9 21.5 14.7656 21.5 14.6C21.5 14.4344 21.6344 14.3 21.8 14.3C21.9656 14.3 22.1 14.4344 22.1 14.6C22.1 14.7656 21.9656 14.9 21.8 14.9ZM22.4 14C22.2344 14 22.1 13.8656 22.1 13.7C22.1 13.5344 22.2344 13.4 22.4 13.4C22.5656 13.4 22.7 13.5344 22.7 13.7C22.7 13.8656 22.5656 14 22.4 14ZM23 14.9C22.8344 14.9 22.7 14.7656 22.7 14.6C22.7 14.4344 22.8344 14.3 23 14.3C23.1656 14.3 23.3 14.4344 23.3 14.6C23.3 14.7656 23.1656 14.9 23 14.9ZM23.6 14C23.4344 14 23.3 13.8656 23.3 13.7C23.3 13.5344 23.4344 13.4 23.6 13.4C23.7656 13.4 23.9 13.5344 23.9 13.7C23.9 13.8656 23.7656 14 23.6 14ZM24.2 14.9C24.0344 14.9 23.9 14.7656 23.9 14.6C23.9 14.4344 24.0344 14.3 24.2 14.3C24.3656 14.3 24.5 14.4344 24.5 14.6C24.5 14.7656 24.3656 14.9 24.2 14.9ZM24.8 14C24.6344 14 24.5 13.8656 24.5 13.7C24.5 13.5344 24.6344 13.4 24.8 13.4C24.9656 13.4 25.1 13.5344 25.1 13.7C25.1 13.8656 24.9656 14 24.8 14ZM25.4 14.9C25.2344 14.9 25.1 14.7656 25.1 14.6C25.1 14.4344 25.2344 14.3 25.4 14.3C25.5656 14.3 25.7 14.4344 25.7 14.6C25.7 14.7656 25.5656 14.9 25.4 14.9ZM26 14C25.8344 14 25.7 13.8656 25.7 13.7C25.7 13.5344 25.8344 13.4 26 13.4C26.1656 13.4 26.3 13.5344 26.3 13.7C26.3 13.8656 26.1656 14 26 14ZM26.6 14.9C26.4344 14.9 26.3 14.7656 26.3 14.6C26.3 14.4344 26.4344 14.3 26.6 14.3C26.7656 14.3 26.9 14.4344 26.9 14.6C26.9 14.7656 26.7656 14.9 26.6 14.9Z"
                        fill="#C94C48"
                      />
                      <path
                        d="M20.9123 25.1603C20.9078 25.1402 20.9 25.1213 20.9 25.1C20.9 25.0643 20.909 25.0313 20.9204 24.9995C20.9852 24.2684 21.2267 23.5889 21.6002 23H11.2505C11.0942 23.222 11 23.4905 11 23.7824V27.3173C11 28.0799 11.6201 28.7 12.3824 28.7H22.3508C21.4613 27.8774 20.9 26.7044 20.9 25.4C20.9 25.319 20.9078 25.2401 20.9123 25.1603ZM14.15 26.9C13.4057 26.9 12.8 26.2943 12.8 25.55C12.8 24.8057 13.4057 24.2 14.15 24.2C14.8943 24.2 15.5 24.8057 15.5 25.55C15.5 26.2943 14.8943 26.9 14.15 26.9Z"
                        fill="#C94C48"
                      />
                    </g>
                    <defs>
                      <filter
                        id="filter0_d_7_243"
                        x="0"
                        y="0"
                        filterUnits="userSpaceOnUse"
                        color-interpolation-filters="sRGB"
                      >
                        <feFlood
                          flood-opacity="0"
                          result="BackgroundImageFix"
                        />
                        <feColorMatrix
                          in="SourceAlpha"
                          type="matrix"
                          values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                          result="hardAlpha"
                        />
                        <feOffset />
                        <feGaussianBlur stdDeviation="5.5" />
                        <feComposite in2="hardAlpha" operator="out" />
                        <feColorMatrix
                          type="matrix"
                          values="0 0 0 0 0.788235 0 0 0 0 0.298039 0 0 0 0 0.282353 0 0 0 0.4 0"
                        />
                        <feBlend
                          mode="normal"
                          in2="BackgroundImageFix"
                          result="effect1_dropShadow_7_243"
                        />
                        <feBlend
                          mode="normal"
                          in="SourceGraphic"
                          in2="effect1_dropShadow_7_243"
                          result="shape"
                        />
                      </filter>
                    </defs>
                  </svg>
                  НАГРУЗКА</span
                >
                <span class="blue">{{ load }}%</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="info__right-side">
        <SpeedChart />
      </div>
    </div>
  </section>
</template>

<style lang="scss">
.info {
  &__container {
    display: flex;
    justify-content: space-between;
  }
  &__right-side {
    margin-right: 10rem;
  }
  &__tables {
    display: flex;
    gap: 4rem;
    width: 60rem;
    flex-wrap: wrap;
  }
  &__title {
    color: var(--main-blue-color);
    font-size: var(--main-title-font-size);
    margin-bottom: 2rem;
  }
  &__subtitle {
    color: var(--main-red-color);
    font-size: var(--main-table-font-size);
    text-shadow: var(--red-text-shadow);
  }
  &__list {
    border-top: 0.1rem solid var(--main-red-color);
    padding-top: 1rem;
    margin-top: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    li {
      span {
        display: flex;
        align-items: center;
        gap: 0.4rem;
      }
      color: var(--main-red-color);
      font-size: var(--main-table-font-size);
      svg {
        margin-left: -1rem;
        width: 3.6rem;
        height: 3.6rem;
      }
    }
  }
}
.status {
  li {
    display: flex;
    width: 25rem;
    justify-content: space-between;
  }
}
.blue {
  color: var(--main-blue-color);
}
</style>

<script lang="ts">
export default {
  data() {
    return {
      ip: "",
    };
  },
  computed: {
    load() {
      return Math.floor(Math.random() * 101);
    },
  },
  mounted() {
    fetch("https://ipapi.co/json/")
      .then((d) => d.json())
      .then((d) => (this.ip = d.ip));
  },
};
</script>
